// eslint-disable-next-line @typescript-eslint/no-var-requires
global.Buffer = require("buffer").Buffer;

const isBase64Image = (str: string): boolean => {
  const expression = `data:image\/([a-zA-Z]*);base64,([^\"]*)`;
  const regex = new RegExp(expression);

  return regex.test(str);
};

export const getImageUri = (value?: Buffer | string): string => {
  if (value && isBase64Image(value as string)) return value as string;

  const buffer = value ? Buffer.from(value).toString() : "";
  return `data:image/png;base64,${buffer}`;
};

export const blurhash =
  "|rF?hV%2WCj[ayj[a|j[az_NaeWBj@ayfRayfQfQM{M|azj[azf6fQfQfQIpWXofj[ayj[j[fQayWCoeoeaya}j[ayfQa{oLj?j[WVj[ayayj[fQoff7azayj[ayj[j[ayofayayayj[fQj[ayayj[ayfjj[j[ayjuayj[";

export const noImage =
  "data:image/png;base64,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";
